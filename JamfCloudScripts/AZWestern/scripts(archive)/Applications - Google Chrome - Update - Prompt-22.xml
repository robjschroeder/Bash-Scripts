<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<script>
    <id>22</id>
    <name>Applications - Google Chrome - Update - Prompt</name>
    <category>Applications</category>
    <filename>Applications - Google Chrome - Update - Prompt</filename>
    <info></info>
    <notes></notes>
    <priority>After</priority>
    <parameters></parameters>
    <os_requirements></os_requirements>
    <script_contents>#!/bin/bash

# Check we have the timer file and if not create it and populate with 5
# which represents the number of defers the end user will have

if [ ! -e /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt ]; then
    echo "5" &gt; /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
fi

########################################################################
#################### Variables to be used by the script ################
########################################################################

# # # # # # # # # # # # # # # #
#Custom Trigger for Chrome Update
#jssChromeTrigger="chromeInstall2"
# # # # # # # # # # # # # # # #

#Get the logged in LoggedInUser
LoggedInUser=`python -c 'from SystemConfiguration import SCDynamicStoreCopyConsoleUser; import sys; username = (SCDynamicStoreCopyConsoleUser(None, None, None) or [None])[0]; username = [username,""][username in [u"loginwindow", None, u""]]; sys.stdout.write(username + "\n");'`
echo "Current LoggedInUser is $LoggedInUser"

#Get the value of the timer file and store for later
Timer=$(cat /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt)

#Go get the Sierr icon from Apple's website
curl -s --url https://upload.wikimedia.org/wikipedia/commons/8/87/Google_Chrome_icon_%282011%29.png &gt; /var/tmp/chrome.png

jamfHelper="/Library/Application Support/JAMF/bin/jamfHelper.app/Contents/MacOS/jamfHelper"
icon="/var/tmp/chrome.png"
title="Message from AWC Service Desk"
heading="An important Google Chrome upgrade is availabe for your Mac - $Timer deferrals remaining"
description="The Google Chrome upgrade includes new features, security updates and performance enhancements.

Would you like to upgrade now? You may choose to not upgrade Google Chrome now, but after $Timer deferrals your mac will be automatically upgraded. Google Chrome must quit to complete the upgrade. If you do not choose to upgrade Chrome today, you will be reminded tomorrow."

########################################################################
#################### Functions to be used by the script ################
########################################################################

function jamfHelperAsktoUpgrade ()
{
  HELPER=` "$jamfHelper" -windowType utility -icon "$icon" -heading "$heading" -alignHeading center -title "$title" -description "$description" -button1 "Later" -button2 "Upgrade Now" -defaultButton "2" `
}

jamfHelperUpdateInProgress ()
{
#Show a message via Jamf Helper that the update has started - &amp; at end so the script can carry on after jamf helper is launched.
su - $LoggedInUser &lt;&lt;'jamfmsg2'
/Library/Application\ Support/JAMF/bin/jamfHelper.app/Contents/MacOS/jamfHelper -windowType utility -icon /Library/Application\ Support/JAMF/bin/Management\ Action.app/Contents/Resources/Self\ Service.icns -title "Message from AWC Service Desk" -heading "Downloading Upgrade Package" -alignHeading center -description "Google Chrome upgrade including new features, security updates and performance enhancements has started.
Thank you &amp;
jamfmsg2
}

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# START THE SCRIPT
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

#First up check is anyone is home, if not then just upgrade
if [ "$LoggedInUser" == "" ]; then
        echo "No one home, upgrade"
        /bin/echo "Update Google Chrome"
        rm -rf /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
        /bin/echo "Starting installation of Google Chrome"
        sleep 5
        killall "Google Chrome"
		sleep 10
		# Vendor supplied DMG file
		VendorDMG="googlechrome.dmg"

		# Download vendor supplied DMG file into /tmp/
		curl https://dl.google.com/chrome/mac/stable/GGRO/$VendorDMG -o /tmp/$VendorDMG

		# Mount vendor supplied DMG File
		hdiutil attach /tmp/$VendorDMG -nobrowse

		# Copy contents of vendor supplied DMG file to /Applications/
		# Preserve all file attributes and ACLs
		cp -pPR /Volumes/Google\ Chrome/Google\ Chrome.app /Applications/

		# Identify the correct mount point for the vendor supplied DMG file 
		GoogleChromeDMG="$(hdiutil info | grep "/Volumes/Google Chrome" | awk '{ print $1 }')"

		# Unmount the vendor supplied DMG file
		hdiutil detach $GoogleChromeDMG

		# Remove the downloaded vendor supplied DMG file
		rm -f /tmp/$VendorDMG
        exit 0
fi


# Check the value of the timer variable, if greater than 0 i.e. can defer
# then show a jamfHelper message
if [ $Timer -gt 0 ]; then
/bin/echo "User has "$Timer" deferrals left"
##Launch jamfHelper
/bin/echo "Launching jamfHelper..."
PROCESS_NAME=Google\ Chrome
if pgrep $PROCESS_NAME; then
    echo 'Google Chrome Running';
    jamfHelperAsktoUpgrade
#Get the value of the jamfHelper, user chosing to upgrade now or defer.
    if [ "$HELPER" == "0" ]; then
            #User chose to ignore
            echo "User clicked no"
            let CurrTimer=$Timer-1
            echo "$CurrTimer" &gt; /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
            exit 0
    else
            #User clicked yes
            /bin/echo "User clicked yes"
            jamfHelperUpdateInProgress
            rm -rf /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
            /bin/echo "Starting installation of Google Chrome"
            sleep 5
            killall "Google Chrome"
		    sleep 10
		    # Vendor supplied DMG file
		    VendorDMG="googlechrome.dmg"

		    # Download vendor supplied DMG file into /tmp/
		    curl https://dl.google.com/chrome/mac/stable/GGRO/$VendorDMG -o /tmp/$VendorDMG

		    # Mount vendor supplied DMG File
		    hdiutil attach /tmp/$VendorDMG -nobrowse

		    # Copy contents of vendor supplied DMG file to /Applications/
		    # Preserve all file attributes and ACLs
		    cp -pPR /Volumes/Google\ Chrome/Google\ Chrome.app /Applications/

		    # Identify the correct mount point for the vendor supplied DMG file 
		    GoogleChromeDMG="$(hdiutil info | grep "/Volumes/Google Chrome" | awk '{ print $1 }')"

		    # Unmount the vendor supplied DMG file
		    hdiutil detach $GoogleChromeDMG

		    # Remove the downloaded vendor supplied DMG file
		    rm -f /tmp/$VendorDMG
		    sleep 10
            open -a Google\ Chrome
            "$jamfHelper" -windowType utility -icon "$icon" -heading "Update Complete" -alignHeading center -title "$title" -description "Google Chrome has been updated" -button1 "Ok"
            exit 0

        exit 1
        fi

    else
    echo "Google Chrome not running, proceeding with update"
    /bin/echo "Update Google Chrome"
    rm -rf /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
    /bin/echo "Starting installation of Google Chrome"
    sleep 5
    killall "Google Chrome"
	sleep 10
	# Vendor supplied DMG file
	VendorDMG="googlechrome.dmg"

	# Download vendor supplied DMG file into /tmp/
	curl https://dl.google.com/chrome/mac/stable/GGRO/$VendorDMG -o /tmp/$VendorDMG

	# Mount vendor supplied DMG File
	hdiutil attach /tmp/$VendorDMG -nobrowse

	# Copy contents of vendor supplied DMG file to /Applications/
	# Preserve all file attributes and ACLs
	cp -pPR /Volumes/Google\ Chrome/Google\ Chrome.app /Applications/

	# Identify the correct mount point for the vendor supplied DMG file 
	GoogleChromeDMG="$(hdiutil info | grep "/Volumes/Google Chrome" | awk '{ print $1 }')"

	# Unmount the vendor supplied DMG file
	hdiutil detach $GoogleChromeDMG

	# Remove the downloaded vendor supplied DMG file
	rm -f /tmp/$VendorDMG
fi

# Check the value of the timer variable, if equals 0 then no deferal left run the upgrade
else
if [ $Timer -eq 0 ]; then
  /bin/echo "No Defer left run the install"
    rm -rf /Library/Application\ Support/JAMF/.ChromeUpgradeTimer.txt
    /bin/echo "Starting installation of Google Chrome"
    	sleep 5
        killall "Google Chrome"
		sleep 10
		# Vendor supplied DMG file
		VendorDMG="googlechrome.dmg"

		# Download vendor supplied DMG file into /tmp/
		curl https://dl.google.com/chrome/mac/stable/GGRO/$VendorDMG -o /tmp/$VendorDMG

		# Mount vendor supplied DMG File
		hdiutil attach /tmp/$VendorDMG -nobrowse

		# Copy contents of vendor supplied DMG file to /Applications/
		# Preserve all file attributes and ACLs
		cp -pPR /Volumes/Google\ Chrome/Google\ Chrome.app /Applications/

		# Identify the correct mount point for the vendor supplied DMG file 
		GoogleChromeDMG="$(hdiutil info | grep "/Volumes/Google Chrome" | awk '{ print $1 }')"

		# Unmount the vendor supplied DMG file
		hdiutil detach $GoogleChromeDMG

		# Remove the downloaded vendor supplied DMG file
		rm -f /tmp/$VendorDMG
		sleep 10
		open -a Google\ Chrome
        "$jamfHelper" -windowType utility -icon "$icon" -heading "Update Complete" -alignHeading center -title "$title" -description "Google Chrome has been updated" -button1 "Ok"
    exit 0
  exit 1
  fi
fi</script_contents>
    <script_contents_encoded>IyEvYmluL2Jhc2gKCiMgQ2hlY2sgd2UgaGF2ZSB0aGUgdGltZXIgZmlsZSBhbmQgaWYgbm90IGNyZWF0ZSBpdCBhbmQgcG9wdWxhdGUgd2l0aCA1CiMgd2hpY2ggcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIGRlZmVycyB0aGUgZW5kIHVzZXIgd2lsbCBoYXZlCgppZiBbICEgLWUgL0xpYnJhcnkvQXBwbGljYXRpb25cIFN1cHBvcnQvSkFNRi8uQ2hyb21lVXBncmFkZVRpbWVyLnR4dCBdOyB0aGVuCiAgICBlY2hvICI1IiA+IC9MaWJyYXJ5L0FwcGxpY2F0aW9uXCBTdXBwb3J0L0pBTUYvLkNocm9tZVVwZ3JhZGVUaW1lci50eHQKZmkKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyBWYXJpYWJsZXMgdG8gYmUgdXNlZCBieSB0aGUgc2NyaXB0ICMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCiNDdXN0b20gVHJpZ2dlciBmb3IgQ2hyb21lIFVwZGF0ZQojanNzQ2hyb21lVHJpZ2dlcj0iY2hyb21lSW5zdGFsbDIiCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMKCiNHZXQgdGhlIGxvZ2dlZCBpbiBMb2dnZWRJblVzZXIKTG9nZ2VkSW5Vc2VyPWBweXRob24gLWMgJ2Zyb20gU3lzdGVtQ29uZmlndXJhdGlvbiBpbXBvcnQgU0NEeW5hbWljU3RvcmVDb3B5Q29uc29sZVVzZXI7IGltcG9ydCBzeXM7IHVzZXJuYW1lID0gKFNDRHluYW1pY1N0b3JlQ29weUNvbnNvbGVVc2VyKE5vbmUsIE5vbmUsIE5vbmUpIG9yIFtOb25lXSlbMF07IHVzZXJuYW1lID0gW3VzZXJuYW1lLCIiXVt1c2VybmFtZSBpbiBbdSJsb2dpbndpbmRvdyIsIE5vbmUsIHUiIl1dOyBzeXMuc3Rkb3V0LndyaXRlKHVzZXJuYW1lICsgIlxuIik7J2AKZWNobyAiQ3VycmVudCBMb2dnZWRJblVzZXIgaXMgJExvZ2dlZEluVXNlciIKCiNHZXQgdGhlIHZhbHVlIG9mIHRoZSB0aW1lciBmaWxlIGFuZCBzdG9yZSBmb3IgbGF0ZXIKVGltZXI9JChjYXQgL0xpYnJhcnkvQXBwbGljYXRpb25cIFN1cHBvcnQvSkFNRi8uQ2hyb21lVXBncmFkZVRpbWVyLnR4dCkKCiNHbyBnZXQgdGhlIFNpZXJyIGljb24gZnJvbSBBcHBsZSdzIHdlYnNpdGUKY3VybCAtcyAtLXVybCBodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zLzgvODcvR29vZ2xlX0Nocm9tZV9pY29uXyUyODIwMTElMjkucG5nID4gL3Zhci90bXAvY2hyb21lLnBuZwoKamFtZkhlbHBlcj0iL0xpYnJhcnkvQXBwbGljYXRpb24gU3VwcG9ydC9KQU1GL2Jpbi9qYW1mSGVscGVyLmFwcC9Db250ZW50cy9NYWNPUy9qYW1mSGVscGVyIgppY29uPSIvdmFyL3RtcC9jaHJvbWUucG5nIgp0aXRsZT0iTWVzc2FnZSBmcm9tIEFXQyBTZXJ2aWNlIERlc2siCmhlYWRpbmc9IkFuIGltcG9ydGFudCBHb29nbGUgQ2hyb21lIHVwZ3JhZGUgaXMgYXZhaWxhYmUgZm9yIHlvdXIgTWFjIC0gJFRpbWVyIGRlZmVycmFscyByZW1haW5pbmciCmRlc2NyaXB0aW9uPSJUaGUgR29vZ2xlIENocm9tZSB1cGdyYWRlIGluY2x1ZGVzIG5ldyBmZWF0dXJlcywgc2VjdXJpdHkgdXBkYXRlcyBhbmQgcGVyZm9ybWFuY2UgZW5oYW5jZW1lbnRzLgoKV291bGQgeW91IGxpa2UgdG8gdXBncmFkZSBub3c/IFlvdSBtYXkgY2hvb3NlIHRvIG5vdCB1cGdyYWRlIEdvb2dsZSBDaHJvbWUgbm93LCBidXQgYWZ0ZXIgJFRpbWVyIGRlZmVycmFscyB5b3VyIG1hYyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgdXBncmFkZWQuIEdvb2dsZSBDaHJvbWUgbXVzdCBxdWl0IHRvIGNvbXBsZXRlIHRoZSB1cGdyYWRlLiBJZiB5b3UgZG8gbm90IGNob29zZSB0byB1cGdyYWRlIENocm9tZSB0b2RheSwgeW91IHdpbGwgYmUgcmVtaW5kZWQgdG9tb3Jyb3cuIgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIEZ1bmN0aW9ucyB0byBiZSB1c2VkIGJ5IHRoZSBzY3JpcHQgIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIGphbWZIZWxwZXJBc2t0b1VwZ3JhZGUgKCkKewogIEhFTFBFUj1gICIkamFtZkhlbHBlciIgLXdpbmRvd1R5cGUgdXRpbGl0eSAtaWNvbiAiJGljb24iIC1oZWFkaW5nICIkaGVhZGluZyIgLWFsaWduSGVhZGluZyBjZW50ZXIgLXRpdGxlICIkdGl0bGUiIC1kZXNjcmlwdGlvbiAiJGRlc2NyaXB0aW9uIiAtYnV0dG9uMSAiTGF0ZXIiIC1idXR0b24yICJVcGdyYWRlIE5vdyIgLWRlZmF1bHRCdXR0b24gIjIiIGAKfQoKamFtZkhlbHBlclVwZGF0ZUluUHJvZ3Jlc3MgKCkKewojU2hvdyBhIG1lc3NhZ2UgdmlhIEphbWYgSGVscGVyIHRoYXQgdGhlIHVwZGF0ZSBoYXMgc3RhcnRlZCAtICYgYXQgZW5kIHNvIHRoZSBzY3JpcHQgY2FuIGNhcnJ5IG9uIGFmdGVyIGphbWYgaGVscGVyIGlzIGxhdW5jaGVkLgpzdSAtICRMb2dnZWRJblVzZXIgPDwnamFtZm1zZzInCi9MaWJyYXJ5L0FwcGxpY2F0aW9uXCBTdXBwb3J0L0pBTUYvYmluL2phbWZIZWxwZXIuYXBwL0NvbnRlbnRzL01hY09TL2phbWZIZWxwZXIgLXdpbmRvd1R5cGUgdXRpbGl0eSAtaWNvbiAvTGlicmFyeS9BcHBsaWNhdGlvblwgU3VwcG9ydC9KQU1GL2Jpbi9NYW5hZ2VtZW50XCBBY3Rpb24uYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9TZWxmXCBTZXJ2aWNlLmljbnMgLXRpdGxlICJNZXNzYWdlIGZyb20gQVdDIFNlcnZpY2UgRGVzayIgLWhlYWRpbmcgIkRvd25sb2FkaW5nIFVwZ3JhZGUgUGFja2FnZSIgLWFsaWduSGVhZGluZyBjZW50ZXIgLWRlc2NyaXB0aW9uICJHb29nbGUgQ2hyb21lIHVwZ3JhZGUgaW5jbHVkaW5nIG5ldyBmZWF0dXJlcywgc2VjdXJpdHkgdXBkYXRlcyBhbmQgcGVyZm9ybWFuY2UgZW5oYW5jZW1lbnRzIGhhcyBzdGFydGVkLgpUaGFuayB5b3UgJgpqYW1mbXNnMgp9CgojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCiMgU1RBUlQgVEhFIFNDUklQVAojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCgojRmlyc3QgdXAgY2hlY2sgaXMgYW55b25lIGlzIGhvbWUsIGlmIG5vdCB0aGVuIGp1c3QgdXBncmFkZQppZiBbICIkTG9nZ2VkSW5Vc2VyIiA9PSAiIiBdOyB0aGVuCiAgICAgICAgZWNobyAiTm8gb25lIGhvbWUsIHVwZ3JhZGUiCiAgICAgICAgL2Jpbi9lY2hvICJVcGRhdGUgR29vZ2xlIENocm9tZSIKICAgICAgICBybSAtcmYgL0xpYnJhcnkvQXBwbGljYXRpb25cIFN1cHBvcnQvSkFNRi8uQ2hyb21lVXBncmFkZVRpbWVyLnR4dAogICAgICAgIC9iaW4vZWNobyAiU3RhcnRpbmcgaW5zdGFsbGF0aW9uIG9mIEdvb2dsZSBDaHJvbWUiCiAgICAgICAgc2xlZXAgNQogICAgICAgIGtpbGxhbGwgIkdvb2dsZSBDaHJvbWUiCgkJc2xlZXAgMTAKCQkjIFZlbmRvciBzdXBwbGllZCBETUcgZmlsZQoJCVZlbmRvckRNRz0iZ29vZ2xlY2hyb21lLmRtZyIKCgkJIyBEb3dubG9hZCB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUgaW50byAvdG1wLwoJCWN1cmwgaHR0cHM6Ly9kbC5nb29nbGUuY29tL2Nocm9tZS9tYWMvc3RhYmxlL0dHUk8vJFZlbmRvckRNRyAtbyAvdG1wLyRWZW5kb3JETUcKCgkJIyBNb3VudCB2ZW5kb3Igc3VwcGxpZWQgRE1HIEZpbGUKCQloZGl1dGlsIGF0dGFjaCAvdG1wLyRWZW5kb3JETUcgLW5vYnJvd3NlCgoJCSMgQ29weSBjb250ZW50cyBvZiB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUgdG8gL0FwcGxpY2F0aW9ucy8KCQkjIFByZXNlcnZlIGFsbCBmaWxlIGF0dHJpYnV0ZXMgYW5kIEFDTHMKCQljcCAtcFBSIC9Wb2x1bWVzL0dvb2dsZVwgQ2hyb21lL0dvb2dsZVwgQ2hyb21lLmFwcCAvQXBwbGljYXRpb25zLwoKCQkjIElkZW50aWZ5IHRoZSBjb3JyZWN0IG1vdW50IHBvaW50IGZvciB0aGUgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlIAoJCUdvb2dsZUNocm9tZURNRz0iJChoZGl1dGlsIGluZm8gfCBncmVwICIvVm9sdW1lcy9Hb29nbGUgQ2hyb21lIiB8IGF3ayAneyBwcmludCAkMSB9JykiCgoJCSMgVW5tb3VudCB0aGUgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlCgkJaGRpdXRpbCBkZXRhY2ggJEdvb2dsZUNocm9tZURNRwoKCQkjIFJlbW92ZSB0aGUgZG93bmxvYWRlZCB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCQlybSAtZiAvdG1wLyRWZW5kb3JETUcKICAgICAgICBleGl0IDAKZmkKCgojIENoZWNrIHRoZSB2YWx1ZSBvZiB0aGUgdGltZXIgdmFyaWFibGUsIGlmIGdyZWF0ZXIgdGhhbiAwIGkuZS4gY2FuIGRlZmVyCiMgdGhlbiBzaG93IGEgamFtZkhlbHBlciBtZXNzYWdlCmlmIFsgJFRpbWVyIC1ndCAwIF07IHRoZW4KL2Jpbi9lY2hvICJVc2VyIGhhcyAiJFRpbWVyIiBkZWZlcnJhbHMgbGVmdCIKIyNMYXVuY2ggamFtZkhlbHBlcgovYmluL2VjaG8gIkxhdW5jaGluZyBqYW1mSGVscGVyLi4uIgpQUk9DRVNTX05BTUU9R29vZ2xlXCBDaHJvbWUKaWYgcGdyZXAgJFBST0NFU1NfTkFNRTsgdGhlbgogICAgZWNobyAnR29vZ2xlIENocm9tZSBSdW5uaW5nJzsKICAgIGphbWZIZWxwZXJBc2t0b1VwZ3JhZGUKI0dldCB0aGUgdmFsdWUgb2YgdGhlIGphbWZIZWxwZXIsIHVzZXIgY2hvc2luZyB0byB1cGdyYWRlIG5vdyBvciBkZWZlci4KICAgIGlmIFsgIiRIRUxQRVIiID09ICIwIiBdOyB0aGVuCiAgICAgICAgICAgICNVc2VyIGNob3NlIHRvIGlnbm9yZQogICAgICAgICAgICBlY2hvICJVc2VyIGNsaWNrZWQgbm8iCiAgICAgICAgICAgIGxldCBDdXJyVGltZXI9JFRpbWVyLTEKICAgICAgICAgICAgZWNobyAiJEN1cnJUaW1lciIgPiAvTGlicmFyeS9BcHBsaWNhdGlvblwgU3VwcG9ydC9KQU1GLy5DaHJvbWVVcGdyYWRlVGltZXIudHh0CiAgICAgICAgICAgIGV4aXQgMAogICAgZWxzZQogICAgICAgICAgICAjVXNlciBjbGlja2VkIHllcwogICAgICAgICAgICAvYmluL2VjaG8gIlVzZXIgY2xpY2tlZCB5ZXMiCiAgICAgICAgICAgIGphbWZIZWxwZXJVcGRhdGVJblByb2dyZXNzCiAgICAgICAgICAgIHJtIC1yZiAvTGlicmFyeS9BcHBsaWNhdGlvblwgU3VwcG9ydC9KQU1GLy5DaHJvbWVVcGdyYWRlVGltZXIudHh0CiAgICAgICAgICAgIC9iaW4vZWNobyAiU3RhcnRpbmcgaW5zdGFsbGF0aW9uIG9mIEdvb2dsZSBDaHJvbWUiCiAgICAgICAgICAgIHNsZWVwIDUKICAgICAgICAgICAga2lsbGFsbCAiR29vZ2xlIENocm9tZSIKCQkgICAgc2xlZXAgMTAKCQkgICAgIyBWZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCQkgICAgVmVuZG9yRE1HPSJnb29nbGVjaHJvbWUuZG1nIgoKCQkgICAgIyBEb3dubG9hZCB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUgaW50byAvdG1wLwoJCSAgICBjdXJsIGh0dHBzOi8vZGwuZ29vZ2xlLmNvbS9jaHJvbWUvbWFjL3N0YWJsZS9HR1JPLyRWZW5kb3JETUcgLW8gL3RtcC8kVmVuZG9yRE1HCgoJCSAgICAjIE1vdW50IHZlbmRvciBzdXBwbGllZCBETUcgRmlsZQoJCSAgICBoZGl1dGlsIGF0dGFjaCAvdG1wLyRWZW5kb3JETUcgLW5vYnJvd3NlCgoJCSAgICAjIENvcHkgY29udGVudHMgb2YgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlIHRvIC9BcHBsaWNhdGlvbnMvCgkJICAgICMgUHJlc2VydmUgYWxsIGZpbGUgYXR0cmlidXRlcyBhbmQgQUNMcwoJCSAgICBjcCAtcFBSIC9Wb2x1bWVzL0dvb2dsZVwgQ2hyb21lL0dvb2dsZVwgQ2hyb21lLmFwcCAvQXBwbGljYXRpb25zLwoKCQkgICAgIyBJZGVudGlmeSB0aGUgY29ycmVjdCBtb3VudCBwb2ludCBmb3IgdGhlIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZSAKCQkgICAgR29vZ2xlQ2hyb21lRE1HPSIkKGhkaXV0aWwgaW5mbyB8IGdyZXAgIi9Wb2x1bWVzL0dvb2dsZSBDaHJvbWUiIHwgYXdrICd7IHByaW50ICQxIH0nKSIKCgkJICAgICMgVW5tb3VudCB0aGUgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlCgkJICAgIGhkaXV0aWwgZGV0YWNoICRHb29nbGVDaHJvbWVETUcKCgkJICAgICMgUmVtb3ZlIHRoZSBkb3dubG9hZGVkIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZQoJCSAgICBybSAtZiAvdG1wLyRWZW5kb3JETUcKCQkgICAgc2xlZXAgMTAKICAgICAgICAgICAgb3BlbiAtYSBHb29nbGVcIENocm9tZQogICAgICAgICAgICAiJGphbWZIZWxwZXIiIC13aW5kb3dUeXBlIHV0aWxpdHkgLWljb24gIiRpY29uIiAtaGVhZGluZyAiVXBkYXRlIENvbXBsZXRlIiAtYWxpZ25IZWFkaW5nIGNlbnRlciAtdGl0bGUgIiR0aXRsZSIgLWRlc2NyaXB0aW9uICJHb29nbGUgQ2hyb21lIGhhcyBiZWVuIHVwZGF0ZWQiIC1idXR0b24xICJPayIKICAgICAgICAgICAgZXhpdCAwCgogICAgICAgIGV4aXQgMQogICAgICAgIGZpCgogICAgZWxzZQogICAgZWNobyAiR29vZ2xlIENocm9tZSBub3QgcnVubmluZywgcHJvY2VlZGluZyB3aXRoIHVwZGF0ZSIKICAgIC9iaW4vZWNobyAiVXBkYXRlIEdvb2dsZSBDaHJvbWUiCiAgICBybSAtcmYgL0xpYnJhcnkvQXBwbGljYXRpb25cIFN1cHBvcnQvSkFNRi8uQ2hyb21lVXBncmFkZVRpbWVyLnR4dAogICAgL2Jpbi9lY2hvICJTdGFydGluZyBpbnN0YWxsYXRpb24gb2YgR29vZ2xlIENocm9tZSIKICAgIHNsZWVwIDUKICAgIGtpbGxhbGwgIkdvb2dsZSBDaHJvbWUiCglzbGVlcCAxMAoJIyBWZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCVZlbmRvckRNRz0iZ29vZ2xlY2hyb21lLmRtZyIKCgkjIERvd25sb2FkIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZSBpbnRvIC90bXAvCgljdXJsIGh0dHBzOi8vZGwuZ29vZ2xlLmNvbS9jaHJvbWUvbWFjL3N0YWJsZS9HR1JPLyRWZW5kb3JETUcgLW8gL3RtcC8kVmVuZG9yRE1HCgoJIyBNb3VudCB2ZW5kb3Igc3VwcGxpZWQgRE1HIEZpbGUKCWhkaXV0aWwgYXR0YWNoIC90bXAvJFZlbmRvckRNRyAtbm9icm93c2UKCgkjIENvcHkgY29udGVudHMgb2YgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlIHRvIC9BcHBsaWNhdGlvbnMvCgkjIFByZXNlcnZlIGFsbCBmaWxlIGF0dHJpYnV0ZXMgYW5kIEFDTHMKCWNwIC1wUFIgL1ZvbHVtZXMvR29vZ2xlXCBDaHJvbWUvR29vZ2xlXCBDaHJvbWUuYXBwIC9BcHBsaWNhdGlvbnMvCgoJIyBJZGVudGlmeSB0aGUgY29ycmVjdCBtb3VudCBwb2ludCBmb3IgdGhlIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZSAKCUdvb2dsZUNocm9tZURNRz0iJChoZGl1dGlsIGluZm8gfCBncmVwICIvVm9sdW1lcy9Hb29nbGUgQ2hyb21lIiB8IGF3ayAneyBwcmludCAkMSB9JykiCgoJIyBVbm1vdW50IHRoZSB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCWhkaXV0aWwgZGV0YWNoICRHb29nbGVDaHJvbWVETUcKCgkjIFJlbW92ZSB0aGUgZG93bmxvYWRlZCB2ZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCXJtIC1mIC90bXAvJFZlbmRvckRNRwpmaQoKIyBDaGVjayB0aGUgdmFsdWUgb2YgdGhlIHRpbWVyIHZhcmlhYmxlLCBpZiBlcXVhbHMgMCB0aGVuIG5vIGRlZmVyYWwgbGVmdCBydW4gdGhlIHVwZ3JhZGUKZWxzZQppZiBbICRUaW1lciAtZXEgMCBdOyB0aGVuCiAgL2Jpbi9lY2hvICJObyBEZWZlciBsZWZ0IHJ1biB0aGUgaW5zdGFsbCIKICAgIHJtIC1yZiAvTGlicmFyeS9BcHBsaWNhdGlvblwgU3VwcG9ydC9KQU1GLy5DaHJvbWVVcGdyYWRlVGltZXIudHh0CiAgICAvYmluL2VjaG8gIlN0YXJ0aW5nIGluc3RhbGxhdGlvbiBvZiBHb29nbGUgQ2hyb21lIgogICAgCXNsZWVwIDUKICAgICAgICBraWxsYWxsICJHb29nbGUgQ2hyb21lIgoJCXNsZWVwIDEwCgkJIyBWZW5kb3Igc3VwcGxpZWQgRE1HIGZpbGUKCQlWZW5kb3JETUc9Imdvb2dsZWNocm9tZS5kbWciCgoJCSMgRG93bmxvYWQgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlIGludG8gL3RtcC8KCQljdXJsIGh0dHBzOi8vZGwuZ29vZ2xlLmNvbS9jaHJvbWUvbWFjL3N0YWJsZS9HR1JPLyRWZW5kb3JETUcgLW8gL3RtcC8kVmVuZG9yRE1HCgoJCSMgTW91bnQgdmVuZG9yIHN1cHBsaWVkIERNRyBGaWxlCgkJaGRpdXRpbCBhdHRhY2ggL3RtcC8kVmVuZG9yRE1HIC1ub2Jyb3dzZQoKCQkjIENvcHkgY29udGVudHMgb2YgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlIHRvIC9BcHBsaWNhdGlvbnMvCgkJIyBQcmVzZXJ2ZSBhbGwgZmlsZSBhdHRyaWJ1dGVzIGFuZCBBQ0xzCgkJY3AgLXBQUiAvVm9sdW1lcy9Hb29nbGVcIENocm9tZS9Hb29nbGVcIENocm9tZS5hcHAgL0FwcGxpY2F0aW9ucy8KCgkJIyBJZGVudGlmeSB0aGUgY29ycmVjdCBtb3VudCBwb2ludCBmb3IgdGhlIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZSAKCQlHb29nbGVDaHJvbWVETUc9IiQoaGRpdXRpbCBpbmZvIHwgZ3JlcCAiL1ZvbHVtZXMvR29vZ2xlIENocm9tZSIgfCBhd2sgJ3sgcHJpbnQgJDEgfScpIgoKCQkjIFVubW91bnQgdGhlIHZlbmRvciBzdXBwbGllZCBETUcgZmlsZQoJCWhkaXV0aWwgZGV0YWNoICRHb29nbGVDaHJvbWVETUcKCgkJIyBSZW1vdmUgdGhlIGRvd25sb2FkZWQgdmVuZG9yIHN1cHBsaWVkIERNRyBmaWxlCgkJcm0gLWYgL3RtcC8kVmVuZG9yRE1HCgkJc2xlZXAgMTAKCQlvcGVuIC1hIEdvb2dsZVwgQ2hyb21lCiAgICAgICAgIiRqYW1mSGVscGVyIiAtd2luZG93VHlwZSB1dGlsaXR5IC1pY29uICIkaWNvbiIgLWhlYWRpbmcgIlVwZGF0ZSBDb21wbGV0ZSIgLWFsaWduSGVhZGluZyBjZW50ZXIgLXRpdGxlICIkdGl0bGUiIC1kZXNjcmlwdGlvbiAiR29vZ2xlIENocm9tZSBoYXMgYmVlbiB1cGRhdGVkIiAtYnV0dG9uMSAiT2siCiAgICBleGl0IDAKICBleGl0IDEKICBmaQpmaQ==</script_contents_encoded>
</script>