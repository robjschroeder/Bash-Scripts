<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<script>
    <id>11</id>
    <name>iOS - Restart Kiosk iPads</name>
    <category>iOS</category>
    <filename>iOS - Restart Kiosk iPads</filename>
    <info></info>
    <notes></notes>
    <priority>After</priority>
    <parameters></parameters>
    <os_requirements></os_requirements>
    <script_contents>#!/bin/bash

# https://www.jamf.com/jamf-nation/discussions/30751/api-script-for-ipad-restart

jssURL=$(defaults read /Library/Preferences/com.jamfsoftware.jamf.plist jss_url | sed s'/.$//')

apiUser="admin"
apiPass='0b1W4nK3n0b1!'
deviceID="167"

data="&lt;mobile_device_command&gt;&lt;general&gt;&lt;command&gt;RestartDevice&lt;/command&gt;&lt;/general&gt;&lt;mobile_devices&gt;&lt;mobile_device&gt;&lt;id&gt;${deviceID}&lt;/id&gt;&lt;/mobile_device&gt;&lt;/mobile_devices&gt;&lt;/mobile_device_command&gt;"

echo "Attempting to send a RestartDevice command to Mobile Device with ID: $deviceID"
curl -ksu "$apiUser:$apiPass" -H "Content-Type: text/xml" "$jssURL/JSSResource/mobiledevicecommands/command" -d $data -X POST

exit 0</script_contents>
    <script_contents_encoded>IyEvYmluL2Jhc2gKCiMgaHR0cHM6Ly93d3cuamFtZi5jb20vamFtZi1uYXRpb24vZGlzY3Vzc2lvbnMvMzA3NTEvYXBpLXNjcmlwdC1mb3ItaXBhZC1yZXN0YXJ0Cgpqc3NVUkw9JChkZWZhdWx0cyByZWFkIC9MaWJyYXJ5L1ByZWZlcmVuY2VzL2NvbS5qYW1mc29mdHdhcmUuamFtZi5wbGlzdCBqc3NfdXJsIHwgc2VkIHMnLy4kLy8nKQoKYXBpVXNlcj0iYWRtaW4iCmFwaVBhc3M9JzBiMVc0bkszbjBiMSEnCmRldmljZUlEPSIxNjciCgpkYXRhPSI8bW9iaWxlX2RldmljZV9jb21tYW5kPjxnZW5lcmFsPjxjb21tYW5kPlJlc3RhcnREZXZpY2U8L2NvbW1hbmQ+PC9nZW5lcmFsPjxtb2JpbGVfZGV2aWNlcz48bW9iaWxlX2RldmljZT48aWQ+JHtkZXZpY2VJRH08L2lkPjwvbW9iaWxlX2RldmljZT48L21vYmlsZV9kZXZpY2VzPjwvbW9iaWxlX2RldmljZV9jb21tYW5kPiIKCmVjaG8gIkF0dGVtcHRpbmcgdG8gc2VuZCBhIFJlc3RhcnREZXZpY2UgY29tbWFuZCB0byBNb2JpbGUgRGV2aWNlIHdpdGggSUQ6ICRkZXZpY2VJRCIKY3VybCAta3N1ICIkYXBpVXNlcjokYXBpUGFzcyIgLUggIkNvbnRlbnQtVHlwZTogdGV4dC94bWwiICIkanNzVVJML0pTU1Jlc291cmNlL21vYmlsZWRldmljZWNvbW1hbmRzL2NvbW1hbmQiIC1kICRkYXRhIC1YIFBPU1QKCmV4aXQgMA==</script_contents_encoded>
</script>